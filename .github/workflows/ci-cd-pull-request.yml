name: CI/CD Pull Request

on:
  pull_request:
    branches: [main]
    types: [opened, synchronize, reopened]
    
jobs:
  build-and-test:
    uses: ./.github/workflows/workflow-build-and-test.yml
    with:
      environment: test
  
  playwright-test:
    uses: ./.github/workflows/workflow-playwright-test.yml
  
  dry-run-infrastructure:
    uses: ./.github/workflows/workflow-deploy-infrastructure.yml
    with:
      environment: test